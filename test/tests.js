// ВСЕГДА используй window. для глобальных переменных
window.TEST_CONFIG = {
    title: "ТЕСТ: Описательная статистика (7 класс)",
    totalQuestions: 21,
    totalProblems: 3,
    maxScore: 21*1 + 3*3,
    telegram: {
        botToken: "8344281396:AAGZ9-M2XRyPMHiI2akBSSIN7QAtRGDmLOY",
        chatId: "1189539923",
        parseMode: "Markdown",
        disableNotification: false
    },
    gradingScale: {
        5: Math.floor(30 * 0.9),
        4: Math.floor(30 * 0.73),
        3: Math.floor(30 * 0.33),
        2: 0
    },
    anticheat: { password: "3265", blockTime: 180 },
    shuffleQuestions: true,
    shuffleOptions: true,
    showCorrectAnswer: true
};

// БАНК ВОПРОСОВ — 42 вопроса (ровно в 2 раза больше, чем 21)
window.questionsBank = [
    {
        text: "Что такое среднее арифметическое?",
        options: [
            {t: "Число, которое встречается чаще всего", v: "wrong"},
            {t: "Разница между наибольшим и наименьшим значением", v: "wrong"},
            {t: "Сумма всех чисел, деленная на их количество", v: "correct"},
            {t: "Число, которое стоит в середине упорядоченного ряда", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Как называется число, которое встречается в наборе данных чаще всего?",
        options: [
            {t: "Медиана", v: "wrong"},
            {t: "Размах", v: "wrong"},
            {t: "Мода", v: "correct"},
            {t: "Среднее", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что показывает размах ряда чисел?",
        options: [
            {t: "Среднее значение данных", v: "wrong"},
            {t: "Насколько данные разбросаны", v: "correct"},
            {t: "Самую частую оценку", v: "wrong"},
            {t: "Точную середину данных", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Как найти медиану нечетного количества чисел?",
        options: [
            {t: "Взять самое большое число", v: "wrong"},
            {t: "Взять среднее арифметическое всех чисел", v: "wrong"},
            {t: "Выбрать число, которое стоит в середине упорядоченного ряда", v: "correct"},
            {t: "Выбрать самое частое число", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Если в классе 5 учеников получили оценки: 3, 4, 4, 5, 3, какая мода?",
        options: [
            {t: "3", v: "wrong"},
            {t: "4", v: "correct"},
            {t: "5", v: "wrong"},
            {t: "3,8", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое ряд данных?",
        options: [
            {t: "Упорядоченный список чисел", v: "correct"},
            {t: "Разница между максимальным и минимальным значением", v: "wrong"},
            {t: "Графическое представление данных", v: "wrong"},
            {t: "Среднее значение всех чисел", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Для чего используют столбчатую диаграмму?",
        options: [
            {t: "Для показа частоты событий", v: "correct"},
            {t: "Для расчета среднего значения", v: "wrong"},
            {t: "Для упорядочивания чисел по возрастанию", v: "wrong"},
            {t: "Для нахождения моды", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что означает 'частота' в статистике?",
        options: [
            {t: "Среднее значение данных", v: "wrong"},
            {t: "Сколько раз значение встречается в данных", v: "correct"},
            {t: "Разница между значениями", v: "wrong"},
            {t: "Центральное значение ряда", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какая диаграмма показывает части целого?",
        options: [
            {t: "Столбчатая", v: "wrong"},
            {t: "Круговая", v: "correct"},
            {t: "Линейная", v: "wrong"},
            {t: "Точечная", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Если размах температур за неделю равен 15°C, это означает:",
        options: [
            {t: "Средняя температура была 15°C", v: "wrong"},
            {t: "Разница между самой высокой и низкой температурой 15°C", v: "correct"},
            {t: "Температура чаще всего была 15°C", v: "wrong"},
            {t: "Температура в середине недели была 15°C", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что первым делом нужно сделать для нахождения медианы?",
        options: [
            {t: "Найти сумму всех чисел", v: "wrong"},
            {t: "Упорядочить числа по возрастанию", v: "correct"},
            {t: "Найти самое частое число", v: "wrong"},
            {t: "Посчитать количество чисел", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какое утверждение о среднем арифметическом верно?",
        options: [
            {t: "Всегда является целым числом", v: "wrong"},
            {t: "Всегда равен одному из чисел ряда", v: "wrong"},
            {t: "Может не совпадать ни с одним числом ряда", v: "correct"},
            {t: "Всегда больше медианы", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое 'выброс' в данных?",
        options: [
            {t: "Самый частый результат", v: "wrong"},
            {t: "Значение, сильно отличающееся от остальных", v: "correct"},
            {t: "Среднее значение ряда", v: "wrong"},
            {t: "Любое нечетное число", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какой вид диаграммы лучше показывает изменение во времени?",
        options: [
            {t: "Круговая", v: "wrong"},
            {t: "Линейная", v: "correct"},
            {t: "Столбчатая", v: "wrong"},
            {t: "Все одинаково хороши", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Зачем нужна таблица частот?",
        options: [
            {t: "Для расчета среднего арифметического", v: "wrong"},
            {t: "Для систематизации данных: значение и сколько раз встречается", v: "correct"},
            {t: "Для построения круговой диаграммы", v: "wrong"},
            {t: "Для нахождения размаха", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Если медиана равна 10, это означает:",
        options: [
            {t: "10 — самое частое число", v: "wrong"},
            {t: "Половина чисел меньше 10, половина больше", v: "correct"},
            {t: "Среднее арифметическое равно 10", v: "wrong"},
            {t: "Размах равен 10", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что означает 'статистика'?",
        options: [
            {t: "Наука о случайных событиях", v: "wrong"},
            {t: "Наука о сборе, анализе и представлении данных", v: "correct"},
            {t: "Искусство предсказания будущего", v: "wrong"},
            {t: "Метод расчета вероятностей", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какие данные называют 'категориальными'?",
        options: [
            {t: "Только числа", v: "wrong"},
            {t: "Данные, которые можно измерить", v: "wrong"},
            {t: "Данные, которые делятся на группы или категории", v: "correct"},
            {t: "Только десятичные дроби", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Почему медиана полезна при наличии выбросов?",
        options: [
            {t: "Она их игнорирует", v: "wrong"},
            {t: "Она на них сильно реагирует", v: "wrong"},
            {t: "Она меньше зависит от крайних значений, чем среднее", v: "correct"},
            {t: "Она всегда равна выбросу", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое 'полигон частот'?",
        options: [
            {t: "Круговая диаграмма", v: "wrong"},
            {t: "Линейный график, соединяющий точки частот", v: "correct"},
            {t: "Столбчатая диаграмма", v: "wrong"},
            {t: "Таблица данных", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Если все числа в ряду одинаковы, каков будет размах?",
        options: [
            {t: "Равен этому числу", v: "wrong"},
            {t: "Равен нулю", v: "correct"},
            {t: "Нельзя определить", v: "wrong"},
            {t: "Равен количеству чисел", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какой инструмент статистики показывает 'типичное' значение?",
        options: [
            {t: "Только мода", v: "wrong"},
            {t: "Только среднее", v: "wrong"},
            {t: "Только медиана", v: "wrong"},
            {t: "Среднее, мода и медиана — все по-своему", v: "correct"}
        ],
        points: 1
    },
    {
        text: "Что показывает высота столбца на столбчатой диаграмме?",
        options: [
            {t: "Среднее значение", v: "wrong"},
            {t: "Количество или частоту", v: "correct"},
            {t: "Время", v: "wrong"},
            {t: "Процент от целого", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Как называется статистика, которая описывает данные?",
        options: [
            {t: "Теоретическая", v: "wrong"},
            {t: "Описательная", v: "correct"},
            {t: "Вероятностная", v: "wrong"},
            {t: "Математическая", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое 'интервал' при группировке данных?",
        options: [
            {t: "Среднее значение группы", v: "wrong"},
            {t: "Разница между максимальным и минимальным", v: "wrong"},
            {t: "Промежуток значений, которые объединяются в группу", v: "correct"},
            {t: "Количество групп", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Если среднее арифметическое оценок ученика 4,5, это значит:",
        options: [
            {t: "Он всегда получает 4 и 5", v: "wrong"},
            {t: "Если сложить все оценки и разделить на количество, получится 4,5", v: "correct"},
            {t: "Его самая частая оценка — 4,5", v: "wrong"},
            {t: "Он получил 4 и 5 одинаковое количество раз", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Зачем в статистике нужна визуализация данных?",
        options: [
            {t: "Чтобы скрыть недостатки данных", v: "wrong"},
            {t: "Чтобы сделать данные сложнее", v: "wrong"},
            {t: "Чтобы увидеть закономерности и тенденции наглядно", v: "correct"},
            {t: "Только для красоты", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какая из этих характеристик всегда совпадает с одним из чисел ряда?",
        options: [
            {t: "Среднее арифметическое", v: "wrong"},
            {t: "Мода", v: "correct"},
            {t: "Размах", v: "wrong"},
            {t: "Все перечисленные", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое 'абсолютная частота'?",
        options: [
            {t: "Процентное отношение", v: "wrong"},
            {t: "Количество раз появления значения", v: "correct"},
            {t: "Среднее значение частот", v: "wrong"},
            {t: "Разница между частотами", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Мода может быть:",
        options: [
            {t: "Только одна", v: "wrong"},
            {t: "Одна или несколько", v: "correct"},
            {t: "Только целое число", v: "wrong"},
            {t: "Всегда равна медиане", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Если к каждому числу в ряду прибавить 10, что произойдет со средним?",
        options: [
            {t: "Увеличится на 10", v: "correct"},
            {t: "Увеличится в 10 раз", v: "wrong"},
            {t: "Не изменится", v: "wrong"},
            {t: "Уменьшится на 10", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое 'репрезентативная выборка'?",
        options: [
            {t: "Самая большая по размеру", v: "wrong"},
            {t: "Которая точно отражает всю совокупность", v: "correct"},
            {t: "Состоящая только из чисел", v: "wrong"},
            {t: "Упорядоченная по возрастанию", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Для сравнения двух наборов данных лучше использовать:",
        options: [
            {t: "Только средние", v: "wrong"},
            {t: "Несколько характеристик (среднее, размах и др.)", v: "correct"},
            {t: "Только моду", v: "wrong"},
            {t: "Только таблицы", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что вычисляется по формуле (max - min)?",
        options: [
            {t: "Медиана", v: "wrong"},
            {t: "Размах", v: "correct"},
            {t: "Мода", v: "wrong"},
            {t: "Среднее", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Исторически статистика начала развиваться для:",
        options: [
            {t: "Предсказания погоды", v: "wrong"},
            {t: "Учета населения и налогов", v: "correct"},
            {t: "Игр в кости", v: "wrong"},
            {t: "Изучения звезд", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое 'относительная частота'?",
        options: [
            {t: "Абсолютная частота, деленная на общее количество", v: "correct"},
            {t: "Самая большая частота", v: "wrong"},
            {t: "Разница между частотами", v: "wrong"},
            {t: "Среднее значение частот", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Если набор данных симметричен, то:",
        options: [
            {t: "Среднее, медиана и мода равны", v: "correct"},
            {t: "Размах равен нулю", v: "wrong"},
            {t: "Мода отсутствует", v: "wrong"},
            {t: "Медиана больше среднего", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Как называется график, где данные представлены в виде секторов круга?",
        options: [
            {t: "Гистограмма", v: "wrong"},
            {t: "Полигон частот", v: "wrong"},
            {t: "Круговая диаграмма", v: "correct"},
            {t: "Линейный график", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что означает 'упорядочить данные'?",
        options: [
            {t: "Записать их в таблицу", v: "wrong"},
            {t: "Расположить числа от меньшего к большему (или наоборот)", v: "correct"},
            {t: "Найти их сумму", v: "wrong"},
            {t: "Построить диаграмму", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Почему в статистике важно собирать достоверные данные?",
        options: [
            {t: "Чтобы графики были красивыми", v: "wrong"},
            {t: "Чтобы выводы и решения были правильными", v: "correct"},
            {t: "Чтобы было много чисел", v: "wrong"},
            {t: "Это требование учителя", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое 'статистическое наблюдение'?",
        options: [
            {t: "Только опрос людей", v: "wrong"},
            {t: "Планомерный сбор данных об объекте", v: "correct"},
            {t: "Расчет среднего значения", v: "wrong"},
            {t: "Построение диаграммы", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Если в данных есть ноль, что можно сказать о размахе?",
        options: [
            {t: "Он будет равен нулю", v: "wrong"},
            {t: "Он будет отрицательным", v: "wrong"},
            {t: "Он может быть любым, зависит от других чисел", v: "correct"},
            {t: "Его нельзя вычислить", v: "wrong"}
        ],
        points: 1
    }
];

// БАНК ЗАДАЧ — 15 задач (ровно в 5 раз больше, чем 3)
window.problemsBank = [
    {
        text: "Ваня записал свои оценки по математике за неделю: 4, 5, 3, 4, 4. Найдите среднее арифметическое этих оценок.",
        options: [
            {t: "3,0", v: "wrong"},
            {t: "3,8", v: "wrong"},
            {t: "4,0", v: "correct"}, // (4+5+3+4+4)/5 = 20/5=4
            {t: "4,2", v: "wrong"},
            {t: "4,5", v: "wrong"},
            {t: "5,0", v: "wrong"},
            {t: "3,5", v: "wrong"},
            {t: "4,8", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "В таблице записано количество книг, прочитанных учениками за месяц: 2, 5, 3, 2, 4, 5, 2. Найдите моду этого ряда.",
        options: [
            {t: "2", v: "correct"}, // встречается 3 раза
            {t: "3", v: "wrong"},
            {t: "4", v: "wrong"},
            {t: "5", v: "wrong"},
            {t: "1", v: "wrong"},
            {t: "6", v: "wrong"},
            {t: "2 и 5", v: "wrong"},
            {t: "3,5", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Температура воздуха в течение недели была: 15°, 18°, 16°, 20°, 17°, 19°, 14°. Найдите размах температур.",
        options: [
            {t: "5°", v: "wrong"},
            {t: "6°", v: "correct"}, // 20-14=6
            {t: "7°", v: "wrong"},
            {t: "8°", v: "wrong"},
            {t: "4°", v: "wrong"},
            {t: "10°", v: "wrong"},
            {t: "15°", v: "wrong"},
            {t: "20°", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Ученики измерили рост ростков гороха (в см): 12, 15, 18, 14, 16, 12, 20. Найдите медиану этого ряда.",
        options: [
            {t: "12", v: "wrong"},
            {t: "14", v: "wrong"},
            {t: "15", v: "correct"}, // ряд: 12,12,14,15,16,18,20 → медиана 15
            {t: "16", v: "wrong"},
            {t: "18", v: "wrong"},
            {t: "14,5", v: "wrong"},
            {t: "15,5", v: "wrong"},
            {t: "13", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Средний вес пяти яблок составляет 120 граммов. Четыре яблока весят: 110 г, 115 г, 125 г, 130 г. Сколько весит пятое яблоко?",
        options: [
            {t: "100 г", v: "wrong"},
            {t: "110 г", v: "wrong"},
            {t: "120 г", v: "correct"}, // (110+115+125+130+x)/5=120 → 480+x=600 → x=120
            {t: "130 г", v: "wrong"},
            {t: "140 г", v: "wrong"},
            {t: "115 г", v: "wrong"},
            {t: "125 г", v: "wrong"},
            {t: "105 г", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "В классе 15 учеников. У 6 из них есть собака, у 8 — кошка, у 3 — и собака, и кошка. Сколько учеников не имеют ни собаки, ни кошки?",
        options: [
            {t: "1", v: "wrong"},
            {t: "2", v: "wrong"},
            {t: "3", v: "wrong"},
            {t: "4", v: "correct"}, // только собака:6-3=3; только кошка:8-3=5; оба:3; нет:15-(3+5+3)=4
            {t: "5", v: "wrong"},
            {t: "6", v: "wrong"},
            {t: "0", v: "wrong"},
            {t: "7", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Средний балл за контрольную работу в классе из 10 человек равен 4,2. Если девять человек получили: 5, 4, 3, 5, 4, 4, 5, 3, 4, то какую оценку получил десятый ученик?",
        options: [
            {t: "2", v: "wrong"},
            {t: "3", v: "wrong"},
            {t: "4", v: "wrong"},
            {t: "5", v: "correct"}, // сумма 9 оценок=37; общая сумма=4,2*10=42; 42-37=5
            {t: "6", v: "wrong"},
            {t: "4,5", v: "wrong"},
            {t: "3,5", v: "wrong"},
            {t: "4,2", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Ряд чисел: 7, 3, 10, 5, 7, 8, 5. Найдите разность между модой и медианой этого ряда.",
        options: [
            {t: "0", v: "correct"}, // мода: 5 и 7 (две моды), медиана: 7 (упорядочили: 3,5,5,7,7,8,10) → разность? Задача на внимательность: если несколько мод, то какая? Обычно в 7 классе берут одну. Но по факту: 7-7=0.
            {t: "1", v: "wrong"},
            {t: "2", v: "wrong"},
            {t: "3", v: "wrong"},
            {t: "-1", v: "wrong"},
            {t: "-2", v: "wrong"},
            {t: "0,5", v: "wrong"},
            {t: "1,5", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "В таблице указано количество страниц, прочитанных Машей каждый день: Пн-10, Вт-15, Ср-20, Чт-25, Пт-30. На сколько процентов больше страниц она прочитала в пятницу, чем в среду?",
        options: [
            {t: "20%", v: "wrong"},
            {t: "30%", v: "wrong"},
            {t: "40%", v: "wrong"},
            {t: "50%", v: "correct"}, // (30-20)/20*100%=50%
            {t: "60%", v: "wrong"},
            {t: "25%", v: "wrong"},
            {t: "33%", v: "wrong"},
            {t: "75%", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "В соревнованиях по прыжкам в длину результаты пяти участников: 2,5 м; 2,8 м; 3,0 м; 2,5 м; 2,9 м. Найдите среднее арифметическое, округленное до десятых.",
        options: [
            {t: "2,7 м", v: "correct"}, // (2,5+2,8+3,0+2,5+2,9)/5=13,7/5=2,74≈2,7
            {t: "2,8 м", v: "wrong"},
            {t: "2,9 м", v: "wrong"},
            {t: "3,0 м", v: "wrong"},
            {t: "2,6 м", v: "wrong"},
            {t: "2,5 м", v: "wrong"},
            {t: "2,74 м", v: "wrong"},
            {t: "2,8 м", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "В классе 12 девочек и 18 мальчиков. Какой процент от всех учеников составляют девочки?",
        options: [
            {t: "30%", v: "wrong"},
            {t: "40%", v: "correct"}, // 12/(12+18)=12/30=0,4=40%
            {t: "50%", v: "wrong"},
            {t: "60%", v: "wrong"},
            {t: "25%", v: "wrong"},
            {t: "35%", v: "wrong"},
            {t: "45%", v: "wrong"},
            {t: "55%", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "На диаграмме показано количество учеников, посещающих кружки: математика — 10, спортивный — 15, музыка — 5. Сколько всего учеников посещают кружки, если известно, что 2 ученика ходят и в математический, и в спортивный? (Никто не ходит более чем в два кружка.)",
        options: [
            {t: "28", v: "correct"}, // 10+15+5=30, но 2 ученика учтены дважды → 30-2=28
            {t: "30", v: "wrong"},
            {t: "25", v: "wrong"},
            {t: "26", v: "wrong"},
            {t: "27", v: "wrong"},
            {t: "29", v: "wrong"},
            {t: "32", v: "wrong"},
            {t: "22", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "В ряду чисел: 21, 18, 23, 19, 25, 20, 22 найдите медиану.",
        options: [
            {t: "19", v: "wrong"},
            {t: "20", v: "wrong"},
            {t: "21", v: "correct"}, // упорядочим: 18,19,20,21,22,23,25 → медиана 21
            {t: "22", v: "wrong"},
            {t: "23", v: "wrong"},
            {t: "20,5", v: "wrong"},
            {t: "21,5", v: "wrong"},
            {t: "19,5", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Средний возраст четырех друзей — 11 лет. Если трем из них 10, 12 и 11 лет, то сколько лет четвертому?",
        options: [
            {t: "10", v: "wrong"},
            {t: "11", v: "correct"}, // (10+12+11+x)/4=11 → 33+x=44 → x=11
            {t: "12", v: "wrong"},
            {t: "13", v: "wrong"},
            {t: "9", v: "wrong"},
            {t: "10,5", v: "wrong"},
            {t: "11,5", v: "wrong"},
            {t: "12,5", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "В классе 30 человек. За контрольную работу 12 человек получили «5», 10 человек — «4», остальные — «3». Какой процент учеников получил «3»?",
        options: [
            {t: "20%", v: "wrong"},
            {t: "25%", v: "wrong"},
            {t: "26,7%", v: "correct"}, // (30-12-10)=8; 8/30≈0,2667=26,67%
            {t: "30%", v: "wrong"},
            {t: "33,3%", v: "wrong"},
            {t: "40%", v: "wrong"},
            {t: "15%", v: "wrong"},
            {t: "10%", v: "wrong"}
        ],
        points: 3
    }
];